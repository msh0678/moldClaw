# moldClaw QA ë³´ê³ ì„œ (2026-02-24)

> ê²€ì¦ ë²”ìœ„: MessengerSettings, ToolsSettings, SkillsSettings
> ê¸°ì¤€: OpenClaw ê³µì‹ ìŠ¤í‚¤ë§ˆ (types.*.ts)

---

## ğŸ“‹ ìš”ì•½

| ë¶„ë¥˜ | ê²€ì¦ í•­ëª© | ê²°ê³¼ | ì‹¬ê°ë„ |
|------|----------|------|--------|
| ë©”ì‹ ì € ìŠ¤í‚¤ë§ˆ | Telegram | âœ… ì •ìƒ | - |
| ë©”ì‹ ì € ìŠ¤í‚¤ë§ˆ | Discord | âš ï¸ ì˜ë¯¸ ë¶ˆì¼ì¹˜ | ğŸŸ¡ ì¤‘ê°„ |
| ë©”ì‹ ì € ìŠ¤í‚¤ë§ˆ | WhatsApp | âœ… ì •ìƒ | - |
| ë©”ì‹ ì € ìŠ¤í‚¤ë§ˆ | Slack | âœ… ì •ìƒ | - |
| ë©”ì‹ ì € ìŠ¤í‚¤ë§ˆ | Google Chat | âœ… ì •ìƒ | - |
| ë©”ì‹ ì € ìŠ¤í‚¤ë§ˆ | Mattermost | âœ… ì •ìƒ | - |
| Tools ìŠ¤í‚¤ë§ˆ | env.vars ì €ì¥ | âœ… ì •ìƒ | - |
| Skills ìŠ¤í‚¤ë§ˆ | env.vars ì €ì¥ | âœ… ì •ìƒ | - |
| UI/UX | groupAllowFrom ì„¤ëª… | âš ï¸ ì˜¤í•´ ì†Œì§€ | ğŸŸ¡ ì¤‘ê°„ |
| ê¸°ëŠ¥ | WhatsApp ToS ê²½ê³  | âœ… êµ¬í˜„ë¨ | - |
| ê¸°ëŠ¥ | ì²« ì‹¤í–‰ ë™ì˜ í˜ì´ì§€ | âœ… êµ¬í˜„ë¨ | - |

---

## 1. ë©”ì‹ ì € ìŠ¤í‚¤ë§ˆ ê²€ì¦

### 1.1 Telegram âœ…

**moldClaw ë§¤í•‘:**
```
channel: 'telegram'
token â†’ channels.telegram.botToken
dmPolicy â†’ channels.telegram.dmPolicy
allowFrom â†’ channels.telegram.allowFrom
groupPolicy â†’ channels.telegram.groupPolicy
groupAllowFrom â†’ channels.telegram.groupAllowFrom
requireMention â†’ channels.telegram.groups.*.requireMention
```

**OpenClaw ìŠ¤í‚¤ë§ˆ:**
```typescript
// types.telegram.ts
botToken?: string;
dmPolicy?: DmPolicy;
allowFrom?: Array<string | number>;
groupPolicy?: GroupPolicy;
groupAllowFrom?: Array<string | number>;  // â† ê·¸ë£¹ ë°œì‹ ì í—ˆìš© ëª©ë¡
```

**ê²°ê³¼:** âœ… ìŠ¤í‚¤ë§ˆ ì¼ì¹˜

---

### 1.2 Discord âš ï¸ ì˜ë¯¸ ë¶ˆì¼ì¹˜

**moldClaw ë§¤í•‘:**
```
channel: 'discord'
token â†’ channels.discord.token
dmPolicy â†’ channels.discord.dm.policy
allowFrom â†’ channels.discord.dm.allowFrom
groupPolicy â†’ channels.discord.groupPolicy
groupAllowFrom â†’ channels.discord.guilds.*.users  â† âš ï¸ ë¬¸ì œ
```

**OpenClaw ìŠ¤í‚¤ë§ˆ:**
```typescript
// types.discord.ts
groupPolicy?: GroupPolicy;
guilds?: Record<string, DiscordGuildEntry>;

// DiscordGuildEntry
users?: Array<string | number>;  // â† íŠ¹ì • ê¸¸ë“œì˜ í—ˆìš© "ì‚¬ìš©ì" ëª©ë¡
```

**ë¬¸ì œì :**
- moldClaw UI: "í—ˆìš© ê·¸ë£¹ ì…ë ¥" (guild ID ì…ë ¥ ê¸°ëŒ€)
- ì‹¤ì œ ë§¤í•‘: `guilds.*.users` (ëª¨ë“  ê¸¸ë“œì˜ ì‚¬ìš©ì í—ˆìš© ëª©ë¡)
- OpenClaw ì˜ë¯¸: `guilds.<guildId>.users` = íŠ¹ì • ê¸¸ë“œì—ì„œ í—ˆìš©í•  **ì‚¬ìš©ì** ëª©ë¡

**ìˆ˜ì • ì œì•ˆ:**
```rust
// í˜„ì¬ (ì˜ëª»ë¨)
if !group_allow_from.is_empty() {
    set_nested_value(&mut config, &["channels", "discord", "guilds", "*", "users"], json!(group_allow_from));
}

// ìˆ˜ì •ì•ˆ 1: ê¸¸ë“œ IDë³„ë¡œ enabled ì„¤ì •
for guild_id in group_allow_from {
    set_nested_value(&mut config, &["channels", "discord", "guilds", guild_id, "enabled"], json!(true));
}

// ìˆ˜ì •ì•ˆ 2: UIì—ì„œ "í—ˆìš© ì‚¬ìš©ì" ì…ë ¥ìœ¼ë¡œ ë³€ê²½
// groupAllowFrom â†’ ê·¸ë£¹ì—ì„œ í—ˆìš©í•  ë°œì‹ ì ID ì…ë ¥
```

**ì‹¬ê°ë„:** ğŸŸ¡ ì¤‘ê°„ - ê¸°ëŠ¥ì€ ì‘ë™í•˜ì§€ë§Œ ì˜ë„ì™€ ë‹¤ë¥¼ ìˆ˜ ìˆìŒ

---

### 1.3 WhatsApp âœ…

**moldClaw ë§¤í•‘:**
```
channel: 'whatsapp'
dmPolicy â†’ channels.whatsapp.accounts.default.dmPolicy
allowFrom â†’ channels.whatsapp.accounts.default.allowFrom
groupPolicy â†’ channels.whatsapp.accounts.default.groupPolicy
groupAllowFrom â†’ channels.whatsapp.accounts.default.groupAllowFrom
```

**OpenClaw ìŠ¤í‚¤ë§ˆ:**
```typescript
// types.whatsapp.ts - WhatsAppAccountConfig
dmPolicy?: DmPolicy;
allowFrom?: Array<string | number>;
groupPolicy?: GroupPolicy;
groupAllowFrom?: Array<string | number>;
```

**ê²°ê³¼:** âœ… ìŠ¤í‚¤ë§ˆ ì¼ì¹˜ (multi-account êµ¬ì¡° ì¤€ìˆ˜)

---

### 1.4 Slack âœ…

**moldClaw ë§¤í•‘:**
```
channel: 'slack'
botToken â†’ channels.slack.botToken
appToken â†’ (ë³„ë„ invoke: set_slack_app_token)
dmPolicy â†’ channels.slack.dm.policy
allowFrom â†’ channels.slack.dm.allowFrom
groupPolicy â†’ channels.slack.groupPolicy
groupAllowFrom â†’ channels.slack.channels.<id>.enabled
```

**OpenClaw ìŠ¤í‚¤ë§ˆ:**
```typescript
// types.slack.ts
botToken?: string;
appToken?: string;
groupPolicy?: GroupPolicy;
dm?: SlackDmConfig;  // dm.policy, dm.allowFrom
channels?: Record<string, SlackChannelConfig>;  // channels.<id>.enabled
```

**ê²°ê³¼:** âœ… ìŠ¤í‚¤ë§ˆ ì¼ì¹˜

---

### 1.5 Google Chat âœ…

**moldClaw ë§¤í•‘:**
```
channel: 'googlechat'
serviceAccountFile â†’ (ë³„ë„ invoke: set_googlechat_service_account)
dmPolicy â†’ channels.googlechat.dm.policy
allowFrom â†’ channels.googlechat.dm.allowFrom
groupPolicy â†’ channels.googlechat.groupPolicy
groupAllowFrom â†’ channels.googlechat.groupAllowFrom
```

**ê²°ê³¼:** âœ… ìŠ¤í‚¤ë§ˆ ì¼ì¹˜

---

### 1.6 Mattermost âœ…

**moldClaw ë§¤í•‘:**
```
channel: 'mattermost'
token â†’ channels.mattermost.botToken
baseUrl â†’ (ë³„ë„ invoke: set_mattermost_url)
dmPolicy â†’ channels.mattermost.dmPolicy
allowFrom â†’ channels.mattermost.allowFrom
groupPolicy â†’ channels.mattermost.groupPolicy
groupAllowFrom â†’ channels.mattermost.groupAllowFrom
```

**ê²°ê³¼:** âœ… ìŠ¤í‚¤ë§ˆ ì¼ì¹˜

---

## 2. Tools ìŠ¤í‚¤ë§ˆ ê²€ì¦

### 2.1 API í‚¤ ì €ì¥ ê²½ë¡œ âœ…

**moldClaw ë§¤í•‘:**
```typescript
// ToolsSettings.tsx
await invoke('update_integrations_config', {
  integrations: { [tool.envVar]: apiKey.trim() }
});

// Rust ë°±ì—”ë“œ
set_nested_value(&mut config, &["env", "vars", key], json!(v));
```

**OpenClaw ìŠ¤í‚¤ë§ˆ:**
```typescript
// types.openclaw.ts
env?: {
  vars?: Record<string, string>;  // â† API í‚¤ ì €ì¥ ìœ„ì¹˜
};
```

**ê²°ê³¼:** âœ… ìŠ¤í‚¤ë§ˆ ì¼ì¹˜

### 2.2 íŠ¹ì • ë„êµ¬ë³„ ì„¤ì •

| ë„êµ¬ | í™˜ê²½ë³€ìˆ˜ | OpenClaw ì‚¬ìš© ìœ„ì¹˜ |
|------|---------|-------------------|
| Brave Search | `BRAVE_API_KEY` | `tools.web.search.apiKey` ë˜ëŠ” env.vars |
| Firecrawl | `FIRECRAWL_API_KEY` | `tools.web.fetch.firecrawl.apiKey` ë˜ëŠ” env.vars |
| ê¸°íƒ€ | ê° í™˜ê²½ë³€ìˆ˜ | env.vars |

**ì°¸ê³ :** OpenClawëŠ” `env.vars`ì˜ í™˜ê²½ë³€ìˆ˜ë¥¼ ìë™ìœ¼ë¡œ `process.env`ì— ì£¼ì…í•˜ë¯€ë¡œ, `env.vars`ì— ì €ì¥í•˜ë©´ ë„êµ¬ê°€ ìë™ìœ¼ë¡œ ì¸ì‹í•¨.

**ê²°ê³¼:** âœ… ì •ìƒ

---

## 3. Skills ìŠ¤í‚¤ë§ˆ ê²€ì¦

### 3.1 API í‚¤ ì €ì¥ ê²½ë¡œ âœ…

**moldClaw ë§¤í•‘:**
```typescript
// SkillsSettings.tsx - ë™ì¼í•˜ê²Œ update_integrations_config ì‚¬ìš©
await invoke('update_integrations_config', {
  integrations: { [skill.envVar]: apiKey.trim() }
});
```

**OpenClaw ìŠ¤í‚¤ë§ˆ:**
```typescript
// types.skills.ts
type SkillConfig = {
  enabled?: boolean;
  apiKey?: string;  // â† primaryEnvì™€ ë§¤í•‘
  env?: Record<string, string>;
};

// ë˜ëŠ” env.varsì— ì§ì ‘ ì €ì¥
env?: {
  vars?: Record<string, string>;
};
```

**ì°¸ê³ :** 
- OpenClawëŠ” `skills.entries.<skillId>.apiKey`ì™€ `env.vars.<envVar>` ë‘˜ ë‹¤ ì§€ì›
- moldClawëŠ” `env.vars`ì— ì €ì¥í•˜ê³  ìˆìœ¼ë©°, OpenClawê°€ ìë™ìœ¼ë¡œ `process.env`ì— ì£¼ì…
- ìŠ¤í‚¬ì´ `metadata.openclaw.primaryEnv`ë¥¼ ì •ì˜í•˜ë©´ í•´ë‹¹ env varë¥¼ ì¸ì‹

**ê²°ê³¼:** âœ… ì •ìƒ (OpenClawì˜ env.vars ìë™ ì£¼ì… ê¸°ëŠ¥ í™œìš©)

---

## 4. UI/UX ì´ìŠˆ

### 4.1 groupAllowFrom ì„¤ëª… ì˜¤í•´ ì†Œì§€ âš ï¸

**í˜„ì¬ UI:**
```
Telegram: "í—ˆìš© ê·¸ë£¹ (í•œ ì¤„ì— í•˜ë‚˜ì”©)"
          placeholder: "-1001234567890"
          hint: "ê·¸ë£¹ ID (ìŒìˆ˜)"

Discord: "í—ˆìš© ê·¸ë£¹ (í•œ ì¤„ì— í•˜ë‚˜ì”©)"
         placeholder: "guild:123456789"
         hint: "guild:ì„œë²„ID í˜•ì‹"
```

**OpenClaw ì‹¤ì œ ì˜ë¯¸:**
```typescript
// Telegram groupAllowFrom
/** Optional allowlist for Telegram group **senders** (user ids or usernames). */
groupAllowFrom?: Array<string | number>;
```

**ë¬¸ì œ:**
- Telegramì˜ `groupAllowFrom`ì€ **ê·¸ë£¹ì—ì„œ í—ˆìš©í•  ë°œì‹ ì** ëª©ë¡
- moldClaw UIëŠ” **í—ˆìš© ê·¸ë£¹** ì…ë ¥ìœ¼ë¡œ ì•ˆë‚´

**ì‹¤ì œ ë™ì‘ í™•ì¸ í•„ìš”:**
- `groupPolicy: "allowlist"` + `groupAllowFrom: [userId]` = í•´ë‹¹ ìœ ì €ë§Œ ê·¸ë£¹ì—ì„œ ì‘ë‹µ
- `groupPolicy: "allowlist"` + `groupAllowFrom: [groupId]` = í•´ë‹¹ ê·¸ë£¹ì—ì„œë§Œ ì‘ë‹µ?

**ê¶Œì¥:**
1. OpenClaw ë¬¸ì„œ/ì½”ë“œì—ì„œ ì‹¤ì œ ë™ì‘ í™•ì¸
2. UI ì„¤ëª…ì„ ì‹¤ì œ ë™ì‘ì— ë§ê²Œ ìˆ˜ì •

**ì‹¬ê°ë„:** ğŸŸ¡ ì¤‘ê°„ - í˜¼ë€ ê°€ëŠ¥í•˜ì§€ë§Œ ê¸°ëŠ¥ì— í° ì˜í–¥ ì—†ì„ ìˆ˜ ìˆìŒ

---

## 5. ê¸°ëŠ¥ ê²€ì¦

### 5.1 WhatsApp ToS ê²½ê³  âœ…

**êµ¬í˜„ ìƒíƒœ:**
- `riskAccepted` ìƒíƒœ ë³€ìˆ˜ ì¶”ê°€
- ê²½ê³  ë°•ìŠ¤ UI (ë¹„ê³µì‹ API, ê³„ì • ì°¨ë‹¨ ìœ„í—˜)
- ì²´í¬ë°•ìŠ¤ í•„ìˆ˜ ë™ì˜
- ë¯¸ë™ì˜ ì‹œ QR ë²„íŠ¼ ë¹„í™œì„±í™”

**ê²°ê³¼:** âœ… ì •ìƒ êµ¬í˜„

### 5.2 ì²« ì‹¤í–‰ ë™ì˜ í˜ì´ì§€ âœ…

**êµ¬í˜„ ìƒíƒœ:**
- `DisclaimerPage.tsx` ì»´í¬ë„ŒíŠ¸
- localStorage ë™ì˜ ì—¬ë¶€ ì €ì¥ (`moldclaw_disclaimer_agreed_v1`)
- 3ê°œ ì²´í¬ë°•ìŠ¤ (ì•½ê´€/ë³´ì•ˆ/ë¹„ìš©)
- ì „ì²´ ë™ì˜ ë²„íŠ¼
- í¼ì³ë³´ê¸° ìƒì„¸ ì•½ê´€

**ê²°ê³¼:** âœ… ì •ìƒ êµ¬í˜„

---

## 6. ìˆ˜ì • ê¶Œì¥ ì‚¬í•­

### ğŸ”´ í•„ìˆ˜ (ë°°í¬ ì „)

ì—†ìŒ - ì¹˜ëª…ì  ë²„ê·¸ ì—†ìŒ

### ğŸŸ¡ ê¶Œì¥ (ë°°í¬ í›„ ê°œì„ )

1. **Discord groupAllowFrom ë§¤í•‘ ì¬ê²€í† **
   - í˜„ì¬: `guilds.*.users`ë¡œ ëª¨ë“  ê¸¸ë“œì— ì ìš©
   - ê¶Œì¥: ê¸¸ë“œ IDë³„ë¡œ `guilds.<guildId>.enabled: true` ì„¤ì •

2. **groupAllowFrom UI ì„¤ëª… ëª…í™•í™”**
   - í˜„ì¬: "í—ˆìš© ê·¸ë£¹" â†’ "í—ˆìš© ë°œì‹ ì" ë˜ëŠ” ì‹¤ì œ ë™ì‘ì— ë§ê²Œ ìˆ˜ì •

3. **MESSENGER_REQUIRED_FIELDS.md ì—…ë°ì´íŠ¸**
   - groupAllowFrom ì˜ë¯¸ ì¬í™•ì¸ í›„ ë¬¸ì„œ ìˆ˜ì •

### ğŸŸ¢ ì„ íƒ (ì¥ê¸° ê°œì„ )

1. Skillsë¥¼ `skills.entries.<id>.apiKey`ì— ì§ì ‘ ì €ì¥ ê³ ë ¤
2. Brave Searchë¥¼ `tools.web.search.apiKey`ì— ì§ì ‘ ì €ì¥ ê³ ë ¤

---

## ê²°ë¡ 

**ì „ì²´ í‰ê°€: ğŸŸ¢ ë°°í¬ ê°€ëŠ¥**

- ìŠ¤í‚¤ë§ˆ ëŒ€ë¶€ë¶„ ì¼ì¹˜
- ì¹˜ëª…ì  ë²„ê·¸ ì—†ìŒ
- Discord groupAllowFrom ë§¤í•‘ ì˜ë¯¸ ë¶ˆì¼ì¹˜ â†’ ê¸°ëŠ¥ì— í° ì˜í–¥ ì—†ìŒ
- UI ì„¤ëª… ì˜¤í•´ ì†Œì§€ â†’ ë¬¸ì„œ/UI ê°œì„  ê¶Œì¥

---

**ê²€ì¦ ì™„ë£Œ:** 2026-02-24
**ê²€ì¦ì:** AI Assistant
**ê¸°ì¤€ ë¬¸ì„œ:** OpenClaw types.*.ts, moldClaw src/components/settings/*.tsx
